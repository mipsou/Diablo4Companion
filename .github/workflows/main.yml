name: Update_README

on:
  schedule:
    - cron: '*/2 * * * *' # Exécution toutes les heures
  # push:
    # branches:
      # - main



jobs:
  build:
    runs-on: windows-latest

    steps:
      - name: Checkout du code
        uses: actions/checkout@v2

      - name: Installer .NET Core
        run: |
          choco install dotnet-sdk -y

      - name: Compilation du script C#
        run: csc /out:scripts/update_readme.exe scripts/update_readme.cs
      
      - name: Exécuter le script C#
        run: ./scripts/update_readme.exe
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}